
<!DOCTYPE html>
<html>
<head>
<title>Mobile Access Platform</title>

<style type="text/css">
#body
{
 
}

#formbuttons {
	display: block;
	height: 15px;
}

.buttonstrip {
	width: 100%;
	height:35px;
	background-color: #000000;	
}

div.styled {
  border-width:1px;
  border-color:black;
  border-style: solid solid solid solid;
  width:500px;
  }

div#menu {
width: 30%;
background-color: yellow;
position:absolute;
bottom: 0;
left: 35%;
display:none;
}
  
</style>



<script src="js/cordova-2.6.0.js"></script>
<script type="js/jquery.mobile.js"></script>
<script type="text/javascript" charset="utf-8">


var username;
var password;
var cflag=1;
var states = {};
var networkState;
var processMessage= "Processing ...."
var SERVICE_URL;

var menuOpen = false;
var menuDiv = "";


	
	//called when application starts
	document.addEventListener("deviceready", onDeviceReady, false);
	
	function onDeviceReady()
	{
	
		
		//navigator.notification.alert("Device is ready to use");
		
		
		//restricts back button
		//document.addEventListener("backbutton", onBackKeyDown, false);
 
		menuDiv = document.querySelector("#menu");
		document.addEventListener("menubutton", doMenu, false);
		
		
		
		if(checkConnection()==true)
		{
			window.MyToaster.showMessage('Internet Connection available');
			window.MyToaster.showMessage('Connection type: ' + states[networkState]);
			
		}
		else
		{
			window.MyToaster.showMessage('Internet Connection is not available');
			
		}
	}
	
	function onBackKeyDown()
	{
		//Prevents Back Button
		//No code Here
	}
	
		function doMenu() 
		{
			console.log("The menu was clicked...");
			if(menuOpen) 
			{
				console.log("close the menu");
				//menuDiv.style.display="none";
				menuOpen = false;
			} 
			else
			{
				console.log("open the menu");
				//menuDiv.style.display="block";
				menuOpen = true;
			}
 
		}
	function signIn()
	{
		username = document.getElementById("username").value;
		password = document.getElementById("password").value;
		
	/*	$.ajax({
			url: 'http://192.168.11.44:8080/mapwebservices/nuc/map/mobbanking?username='+document.getElementById('username').value+'&password='+document.getElementById('password').value,
			success: function(data) {
				//navigator.notification.alert("HELLO"+data);
				//it works, do something with the data navigator.app.loadUrl("file:///android_asset/www/user.html");
				if(data==0)
				{
					navigator.notification.alert("Login Failed. Invalid Credentials.");
					navigator.app.loadUrl('file:///android_asset/www/index.html');
				}
				else{
					navigator.notification.alert("Successfully Logged In!!");
                    navigator.app.loadUrl('file:///android_asset/www/test.html');
					
					
				}
				
			},
			error: function() {
				
				navigator.app.loadUrl('file:///android_asset/www/index.html');
				navigator.notification.alert("Could not Connect to Server");
				
				
			//something went wrong, handle the error and display a message
			}
			});
	}*/
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	if(username=="" || password=="")
		{
		
			   // window.MyToaster.showMessage('Please Enter Corect Username');
				//cflag=0;
				//window.MyToaster.showMessage('Flag is 0');
				navigator.notification.alert("Login Failed");
		}
		else if(username=="nuc" && password =="nuc")
		{
			 // navigator.notification.activityStart("Loggin in", "loading");
			  //navigator.notification.activityStop();
			  
			  
			   loadHomePage();           
			   
		}
		else
		{
			//window.MyToaster.showMessage('Please Enter Corect Username');
			//cflag=0;
			//window.MyToaster.showMessage('Flag is 0');
			navigator.notification.alert("Login Failed");
		}
	
	}
	
		function loadHomePage()
		{
			navigator.app.loadUrl('file:///android_asset/www/test.html');
		}
		function checkConnection() {
        networkState = navigator.network.connection.type;

        states = {};
        states[Connection.UNKNOWN]  = 'Unknown connection';
        states[Connection.ETHERNET] = 'Ethernet connection';
        states[Connection.WIFI]     = 'WiFi connection';
        states[Connection.CELL_2G]  = 'Cell 2G connection';
        states[Connection.CELL_3G]  = 'Cell 3G connection';
        states[Connection.CELL_4G]  = 'Cell 4G connection';
        states[Connection.NONE]     = 'No network connection';
		
		return true;
        //alert('Connection type: ' + states[networkState]);
    }
	

</script>
</head>


<body style="background: #E9E9E9;" align="center" width="100%" height="100%">
<center>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<div style="background: url(images/imagesf.JPG) no-repeat; width:300px; height:250px; border-style:solid;">
	<table align="center">
		<caption>
				<br/><h3>Mobile Access Platform</h3><br/>
		</caption>
		<tr>
			<td>
				<b>Username:</b>
			</td>
			<td>				
				<input type="text" id="username">
			</td>
		</tr>
		<tr>
			<td>
				<b>Password:</b>
			</td>
			<td>	
				<input type="password" id="password">
			</td>
		</tr>
		<tr>
			<td colspan="2">
			<br/>
				<center>
					<button style="font-weight:bold; font-family: Verdana,Arial,sans-serif;display: inline-block;
	position: relative;
	padding: 5;
	line-height: normal;
	margin-right: .1em;
	cursor: pointer;
	vertical-align: middle;
	text-align: center;
	overflow: visible;" onClick="signIn();">Log in</button>
				</center>
			</td>
		</tr>
	</table>
</div>
</center>
</body>
</html>